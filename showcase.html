<!DOCTYPE html>
<html lang="en">
<head>
     <!-- Google tag (gtag.js) -->
     <script async src="https://www.googletagmanager.com/gtag/js?id=G-EQN5T4YWHN"></script>
     <script>
       window.dataLayer = window.dataLayer || [];
       function gtag(){dataLayer.push(arguments);}
       gtag('js', new Date());
     
       gtag('config', 'G-EQN5T4YWHN');
     </script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta property="og:title" content="Logical">
    <meta property="og:description" content="The best Rocket League mod for you!">
    <meta property="og:image" content="https://logicalrl.com/assets/LogicalPurple.png">
    <meta property="og:type" content="website">

    <link rel="icon" type="image/x-icon" href="assets/LogicalPurple.png">
    <link rel="stylesheet" href="style.css">
    <title>Logical | Showcase</title>
</head>
<body>
    <script src="https://kit.fontawesome.com/76155aeaae.js" crossorigin="anonymous"></script>

    <!-- Header (dont change) -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        $(document).ready(function(){
            $("body").prepend($('<div>').load("assets/header.html"));
        });
    </script>

    <div class="main-body">
        <!-- Content start -->

        <div class="showcases">
            <h1>Logical Showcases</h1>
            <p class="showcase-header">Official showcases made by content-creators! Want to get the same features used by these content creators? Join our discord and contact us! If you want to make content, join the discord and make a ticket to negotiate.</p>

            <div id="showcases"></div>

            <script>
                fetch('assets/showcases.json')
                    .then(response => response.json())
                    .then(showcases => {
                        showcases["showcases"].forEach(path => {
                            fetch(`${path}/data.json`)
                                .then(response => response.json())
                                .then(data => {
                                    const showcase = document.createElement('div');
                                    showcase.className = 'showcase';
                                    showcase.innerHTML = `
                                    <a class="showcase-reference" href=${data["link"]}>
                                            <img src="${data["thumbnail"]}" class="showcase-thumbnail" alt="Showcase thumbnail">
                                            <div class="showcase-top-container">
                                                <img src="${data["avatar"]}" class="showcase-avatar" alt="Showcase thumbnail">
                                                <p class="showcase-title">${data["title"]}</p>
                                            </div>
                                            <div class="showcase-bottom-container">
                                                <p class="showcase-author">${data["author"]}</p>
                                                <p class="showcase-stats">${data["views"]} views &#183; ${data["timestamp"]}</p>
                                        </div>
                                    </a>
                                    `;

                                    document.getElementById('showcases').appendChild(showcase);
                                });
                        });
                   
                    })
                    .catch(error => console.error('Error fetching showcases:', error));
            </script>

            <!-- TODO: Add <counter> tag to all views -->
        </div>

        <!-- Content end -->
    </div>

    <canvas id="canvas"></canvas>
    <script src="assets/background.js"></script>
</body>
</html>
